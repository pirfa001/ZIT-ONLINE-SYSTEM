{% extends 'base.html' %}

{% block title %}Home - ZIT Learn Online{% endblock %}

{% block content %}
<!-- Hero Section -->
<section 
    x-data="{ show: false }" 
    x-init="setTimeout(() => show = true, 200)" 
    x-transition 
    class="bg-gradient-to-r from-blue-700 to-blue-500 text-white py-20 rounded-lg shadow-lg overflow-hidden relative"
>
    <div class="container mx-auto text-center px-6" x-show="show" x-transition.duration.800ms>
        <h1 class="text-5xl md:text-6xl font-extrabold mb-6 animate-slide-down">
            Empowering Learning at ZIT
        </h1>
        <p class="text-lg md:text-xl mb-8 opacity-90 max-w-3xl mx-auto animate-fade-in">
            Learn, grow, and innovate with Zibeh Institute of Technology's online learning platform. 
            Where flexibility meets excellence.
        </p>
        <div class="space-x-4 animate-fade-up">
            <a href="{{ url_for('register') }}" 
               class="bg-white text-blue-700 font-semibold px-6 py-3 rounded-md shadow-md hover:bg-blue-100 hover:scale-105 transition transform duration-300">
                Get Started
            </a>
            <a href="{{ url_for('courses') }}" 
               class="border border-white px-6 py-3 rounded-md hover:bg-white hover:text-blue-700 hover:scale-105 transition transform duration-300">
                Browse Courses
            </a>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="mt-20 container mx-auto text-center px-6" x-data="{ visible: false }" x-intersect.once="visible = true">
    <h2 x-show="visible" x-transition.duration.700ms class="text-3xl font-extrabold text-gray-800 mb-6">
        Why Choose ZIT Learn Online?
    </h2>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mt-10">
        <template x-for="(feature, index) in [
            {icon: 'https://cdn-icons-png.flaticon.com/512/2920/2920244.png', title: 'For Students', desc: 'Access quality learning resources, track progress, and earn certifications from anywhere, anytime.', color: 'blue'},
            {icon: 'https://cdn-icons-png.flaticon.com/512/1055/1055666.png', title: 'For Instructors', desc: 'Design, upload, and manage your courses efficiently while engaging with students interactively.', color: 'green'},
            {icon: 'https://cdn-icons-png.flaticon.com/512/3176/3176367.png', title: 'For Admins', desc: 'Oversee users, track performance metrics, and ensure a smooth, secure academic experience.', color: 'purple'}
        ]" :key="index">
            <div 
                x-show="visible"
                x-transition.duration.700ms.delay.200ms
                :class="'bg-' + feature.color + '-50 p-6 rounded-lg shadow-md border border-' + feature.color + '-200 hover:shadow-xl hover:-translate-y-2 transform transition duration-500'"
            >
                <img :src="feature.icon" alt="Feature icon" class="w-16 mx-auto mb-4">
                <h3 :class="'text-xl font-bold text-' + feature.color + '-800 mb-2'" x-text="feature.title"></h3>
                <p class="text-gray-600" x-text="feature.desc"></p>
            </div>
        </template>
    </div>
</section>

<!-- Featured Courses Section -->
<section class="mt-20 bg-gray-50 py-16 rounded-lg">
    <div class="container mx-auto px-6">
        <div class="text-center mb-12">
            <h2 class="text-3xl font-extrabold text-gray-800 mb-2">
                Explore Popular Courses
            </h2>
            <p class="text-gray-600">Start your learning journey with our featured courses</p>
        </div>
        {% if courses %}
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            {% for course in courses %}
            <div class="bg-white rounded-lg shadow-md hover:shadow-xl transform hover:-translate-y-2 transition duration-300 overflow-hidden flex flex-col">
                <!-- Course Image -->
                <div class="h-48 bg-gradient-to-br from-blue-400 to-blue-600 overflow-hidden">
                    {% if course.image %}
                    <img src="{{ course.image }}" alt="{{ course.title }}" class="w-full h-full object-cover">
                    {% else %}
                    <div class="w-full h-full flex items-center justify-center text-white font-bold text-lg text-center px-4">
                        {{ course.title }}
                    </div>
                    {% endif %}
                </div>

                <!-- Course Content -->
                <div class="p-6 flex flex-col flex-grow">
                    <h3 class="text-xl font-semibold text-blue-700 mb-2">{{ course.title }}</h3>
                    <p class="text-gray-600 mb-4 line-clamp-2 flex-grow">{{ course.description }}</p>
                    
                    <!-- Instructor Info -->
                    <div class="mb-4 text-sm text-gray-500">
                        {% if course.instructor %}
                        by <span class="font-semibold">{{ course.instructor.full_name }}</span>
                        {% else %}
                        by ZIT Staff
                        {% endif %}
                    </div>

                    <!-- Price and CTA -->
                    <div class="flex items-center justify-between pt-4 border-t">
                        <span class="text-2xl font-bold text-blue-700">
                            ${{ '{:.2f}'.format(course.price or 0.0) }}
                        </span>
                        <a href="{{ url_for('course_detail', course_id=course.id) }}" 
                           class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition duration-200">
                            View â†’
                        </a>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>

        <!-- Browse All Courses Button -->
        <div class="text-center mt-12">
            <a href="{{ url_for('courses') }}" 
               class="bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-700 hover:scale-105 transition transform duration-300 shadow-lg">
                Browse All Courses
            </a>
        </div>
        {% else %}
        <div class="text-center py-12">
            <p class="text-gray-600 text-lg mb-4">No courses available yet. Check back soon!</p>
            <a href="{{ url_for('register') }}" class="text-blue-600 font-semibold hover:underline">Register to get started</a>
        </div>
        {% endif %}
    </div>
</section>

<!-- Call to Action -->
<section 
    x-data="{ reveal: false }" 
    x-intersect.once="reveal = true"
    class="mt-20 text-center bg-blue-700 text-white py-16 rounded-lg shadow-inner relative overflow-hidden"
>
    <div x-show="reveal" x-transition.duration.1000ms>
        <h2 class="text-4xl font-extrabold mb-4 animate-slide-up">Ready to Start Learning?</h2>
        <p class="text-lg mb-8 opacity-90 animate-fade-in">Join thousands of learners shaping their future through technology and innovation.</p>
        <a href="{{ url_for('register') }}" 
           class="bg-white text-blue-700 px-8 py-3 rounded-md text-lg font-semibold hover:bg-blue-100 hover:scale-105 transition transform duration-300 shadow-md">
            Join Now
        </a>
    </div>
</section>

<!-- Custom Animations -->
<style>
    @keyframes fade-in {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }
    .animate-fade-in { animation: fade-in 1.2s ease-out forwards; }
    @keyframes slide-down {
        from { opacity: 0; transform: translateY(-40px); }
        to { opacity: 1; transform: translateY(0); }
    }
    .animate-slide-down { animation: slide-down 1s ease-out forwards; }
    @keyframes fade-up {
        from { opacity: 0; transform: translateY(40px); }
        to { opacity: 1; transform: translateY(0); }
    }
    .animate-fade-up { animation: fade-up 1s ease-out forwards; }
    @keyframes slide-up {
        from { opacity: 0; transform: translateY(30px); }
        to { opacity: 1; transform: translateY(0); }
    }
    .animate-slide-up { animation: slide-up 1s ease-out forwards; }
</style>

<!-- Alpine.js for simple interactions -->
<script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
{% endblock %}
